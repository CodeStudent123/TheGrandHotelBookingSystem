<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Grand Hotel Booking Reservation</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Reset and base */
      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        font-family: "Poppins", sans-serif;
        background-color: #c52301; /* Grand Hotel red */
        color: #000;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 40px 20px;
      }

      header {
        color: #fff;
        text-align: center;
        margin-bottom: 30px;
      }

      header h1 {
        font-weight: 700;
        font-size: 3rem;
        margin-bottom: 5px;
      }

      header p {
        font-weight: 500;
        font-size: 1.25rem;
        opacity: 0.9;
      }

      main {
        background: #fff;
        border-radius: 12px;
        max-width: 600px;
        width: 100%;
        padding: 30px 40px;
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
      }

      form > section {
        margin-bottom: 25px;
      }

      label {
        display: block;
        font-weight: 600;
        font-size: 1rem;
        margin-bottom: 8px;
        color: #3a3a3a;
      }

      input[type="number"],
      input[type="date"] {
        width: 100%;
        padding: 12px 15px;
        border-radius: 8px;
        border: 1.5px solid #ccc;
        font-size: 1rem;
        transition: border-color 0.3s ease;
      }

      input[type="number"]:focus,
      input[type="date"]:focus {
        border-color: #c52301;
        outline: none;
      }

      fieldset {
        border: none;
        padding: 0;
        margin: 0;
      }

      legend {
        font-weight: 600;
        font-size: 1.2rem;
        margin-bottom: 12px;
        color: #3a3a3a;
      }

      label.room {
        display: flex;
        align-items: center;
        border: 1.5px solid #ddd;
        border-radius: 8px;
        padding: 12px 15px;
        margin-bottom: 12px;
        cursor: pointer;
        transition: background-color 0.3s ease, border-color 0.3s ease;
        font-weight: 600;
        font-size: 1rem;
        color: #333;
      }

      label.room input {
        margin-right: 15px;
        cursor: pointer;
      }

      label.room.selected {
        background-color: #c52301;
        color: #fff;
        border-color: #a01901;
      }

      #est,
      #tot {
        font-weight: 700;
        font-size: 1.1rem;
        color: #c52301;
        margin-bottom: 8px;
      }

      .payment-buttons {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 20px;
      }

      .payment-buttons a {
        flex: 1 1 45%;
        text-align: center;
        padding: 15px 0;
        border-radius: 8px;
        font-weight: 700;
        font-size: 1.1rem;
        text-decoration: none;
        color: #fff;
        user-select: none;
        transition: background-color 0.3s ease;
      }

      #paypal {
        background-color: #ffc439;
        color: #003087;
      }

      #paypal:hover {
        background-color: #e6b631;
      }

      #gcash {
        background-color: #009933;
      }

      #gcash:hover {
        background-color: #007d29;
      }

      footer {
        background-color: #8b1700;
        color: white;
        text-align: center;
        padding: 15px 10px;
        font-size: 16px;
        font-weight: 600;
        border-top: 2px solid #a31e00;
        width: 100%;
        margin-top: auto; /
      }

      @media (max-width: 480px) {
        main {
          padding: 25px 20px;
        }
        .payment-buttons {
          flex-direction: column;
        }
        .payment-buttons a {
          width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Welcome to The Grand Hotel!</h1>
      <p>
        If you wish to stay with us, please provide your booking details below.
      </p>
    </header>

    <main>
      <form id="f">
        <section>
          <label for="guests">Guests:</label>
          <input type="number" id="guests" min="1" max="5" value="2" required />
        </section>

        <section>
          <label for="checkin">Check-in:</label>
          <input type="date" id="checkin" required />
          <label for="checkout" style="margin-top: 15px">Check-out:</label>
          <input type="date" id="checkout" required />
        </section>

        <section id="rec"></section>

        <section>
          <fieldset id="rooms">
            <legend>Room</legend>

            <label class="room">
              <input
                type="radio"
                name="room"
                value="single"
                data-cap="1"
                data-price="60"
              />
              Single — ₱60/night
            </label>

            <label class="room">
              <input
                type="radio"
                name="room"
                value="double"
                data-cap="2"
                data-price="100"
              />
              Double — ₱100/night
            </label>

            <label class="room">
              <input
                type="radio"
                name="room"
                value="suite"
                data-cap="3"
                data-price="200"
              />
              Suite — ₱200/night
            </label>

            <label class="room">
              <input
                type="radio"
                name="room"
                value="deluxe"
                data-cap="3"
                data-price="280"
              />
              Deluxe Room — ₱280/night
            </label>

            <label class="room">
              <input
                type="radio"
                name="room"
                value="family"
                data-cap="5"
                data-price="350"
              />
              Family — ₱350/night
            </label>
          </fieldset>
        </section>

        <section>
          <div id="est">Est: —</div>
          <div id="tot">Total: —</div>
        </section>

        <section class="payment-buttons">
          <a id="paypal" href="#" role="button" target="_blank" rel="noopener"
            >PayPal</a
          >
          <a id="gcash" href="#" role="button" target="_blank" rel="noopener"
            >Gcash</a
          >
        </section>
      </form>
    </main>

    <footer>&copy; 2025 The Grand Hotel Inc.</footer>

    <script>
      const guests = document.getElementById("guests"),
        checkin = document.getElementById("checkin"),
        checkout = document.getElementById("checkout"),
        est = document.getElementById("est"),
        tot = document.getElementById("tot"),
        paypalBtn = document.getElementById("paypal"),
        gcashBtn = document.getElementById("gcash"),
        roomInputs = [...document.querySelectorAll('input[name="room"]')];

      let price = 0;
      let cap = 0;

      const today = new Date().toISOString().split("T")[0];
      checkin.min = checkout.min = checkin.value = today;

      let tomorrow = new Date();
      tomorrow.setDate(tomorrow.getDate() + 1);
      checkout.value = tomorrow.toISOString().split("T")[0];

      function validateGuestCapacity() {
        const numGuests = +guests.value;
        const selectedRoom = roomInputs.find((input) => input.checked);

        if (!selectedRoom) {
          est.textContent = "Est: —";
          tot.textContent = "Total: —";
          paypalBtn.style.opacity = 0.5;
          gcashBtn.style.opacity = 0.5;
          paypalBtn.href = "#";
          gcashBtn.href = "#";
          return false;
        }

        cap = +selectedRoom.dataset.cap;
        price = +selectedRoom.dataset.price;

        if (numGuests > cap) {
          alert(
            `The selected room only supports up to ${cap} guest${
              cap > 1 ? "s" : ""
            }. Please adjust the number of guests or choose a different room.`
          );
          guests.value = cap;
          return false;
        }

        return true;
      }

      function calculateTotal() {
        if (!validateGuestCapacity()) {
          est.textContent = "Est: —";
          tot.textContent = "Total: —";
          paypalBtn.style.opacity = 0.5;
          gcashBtn.style.opacity = 0.5;
          paypalBtn.href = "#";
          gcashBtn.href = "#";
          return;
        }

        const sd = new Date(checkin.value);
        const ed = new Date(checkout.value);

        if (ed < sd) {
          est.textContent = "Est: —";
          tot.textContent = "Total: —";
          paypalBtn.style.opacity = 0.5;
          gcashBtn.style.opacity = 0.5;
          paypalBtn.href = "#";
          gcashBtn.href = "#";
          return;
        }

        const nights = Math.ceil((ed - sd) / (1000 * 3600 * 24)) || 1;
        const totalPrice = nights * price;

        est.textContent = `Est: ₱${price} × ${nights} night${
          nights !== 1 ? "s" : ""
        }`;
        tot.textContent = `Total: ₱${totalPrice.toFixed(2)}`;

        paypalBtn.href = `https://paypal.com/checkout?amount=${totalPrice.toFixed(
          2
        )}`;
        gcashBtn.href = `https://gcash.com/checkout?amount=${totalPrice.toFixed(
          2
        )}`;

        paypalBtn.style.opacity = 1;
        gcashBtn.style.opacity = 1;
      }

      guests.addEventListener("input", calculateTotal);
      checkin.addEventListener("change", () => {
        checkout.min = checkin.value;
        if (checkout.value < checkin.value) checkout.value = checkin.value;
        calculateTotal();
      });
      checkout.addEventListener("change", calculateTotal);

      roomInputs.forEach((input) =>
        input.addEventListener("change", () => {
          calculateTotal();
        })
      );

      window.onload = () => {
        // no default room selection now
        est.textContent = "Est: —";
        tot.textContent = "Total: —";
        paypalBtn.style.opacity = 0.5;
        gcashBtn.style.opacity = 0.5;
        paypalBtn.href = "#";
        gcashBtn.href = "#";
      };
    </script>
  </body>
</html>
